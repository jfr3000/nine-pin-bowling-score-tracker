<!DOCTYPE html>

<head>
  <link rel="stylesheet" href="styles.css">
  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x/dist/cdn.min.js"></script>
  <script src="index.js"></script>
</head>

<body x-data="{isRightLaneSelected: false, results: []}">
  <h1>Kegel-Tracker</h1>

  <div class="score-element">
    <template x-for="i in [...Array(10).keys()].reverse()">
      <button
        x-text="i"
        class="score-button"
        @click="addResult(isRightLaneSelected ? 'right' : 'left' , i, results)"
      />
    </template>
    <label class="toggle-container">
      <input type="checkbox" x-model="isRightLaneSelected">
      <span class="slider"></span>
      <div class="labels">
          <span class="left-label" x-text="labels.left">Left</span>
        <span class="right-label" x-text="labels.right">Right</span>
      </div>
  </label>
</div>

  <div x-show="results.length > 0">
    <table id="results-table" x-data="results" >
      <thead>
        <tr>
          <template x-for="headerLabel in header">
            <th x-text="headerLabel" />
          </template>
        </tr>
      </thead>
      <tbody>
        <template x-for="line in renderTableFromRawResults(results)">
          <tr>
            <td x-text="line.throwScore"></td>
            <td x-text="line.sum"></td>
            <td x-text="line.lane"></td>
            <td x-text="line.sevenAverage"></td>
            <td x-text="line.average"></td>
          </tr>
        </template>
      </tbody>
    </table>
    <button @click="exportAsTSV(results)" x-text="labels.export"></button>
  </div>

</body>

</html>