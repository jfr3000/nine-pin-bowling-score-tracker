<!DOCTYPE html>

<head>
  <link rel="stylesheet" href="styles.css">
  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x/dist/cdn.min.js"></script>
  <script src="index.js"></script>
</head>

<body x-data="{selectedLane: null, results: []}">
  <h1>Kegel-Tracker</h1>
  <fieldset class="score-element">
    <legend>Gasse</legend>
    <div>
      <input type="radio" id="left-lane" name="selectedLane" value="left" x-model="selectedLane" required />
      <label for="left-lane" x-text="labels.left"></label>
    </div>
    <div>
      <input type="radio" id="right-lane" name="selectedLane" value="right" x-model="selectedLane" required />
      <label for="right-lane" x-text="labels.right"></label>
    </div>
  </fieldset>

  <fieldset class="score-element">
    <template x-for="i in [...Array(10).keys()].reverse()">
      <button x-text="i" class="score-button" @click="addResult(selectedLane, i, results)" />
    </template>
  </fieldset>

  <table id="results-table" x-data="results">
    <thead>
      <tr>
        <template x-for="headerLabel in header">
          <th x-text="headerLabel" />
        </template>
      </tr>
    </thead>
    <tbody>
      <template x-for="line in renderTableFromRawResults(results)">
        <tr>
          <td x-text="line.throwScore"></td>
          <td x-text="line.sum"></td>
          <td x-text="line.lane"></td>
          <td x-text="line.sevenAverage"></td>
          <td x-text="line.average"></td>
        </tr>
      </template>
    </tbody>
  </table>

  <button @click="exportAsTSV(results)" x-text="labels.export"></button>

</body>

</html>